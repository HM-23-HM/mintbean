import{_ as e,c as t,C as s,R as a,a as r,P as _,b as n}from"./vendor.5cb1ccf6.js";function l(e,t,s){return{type:"SEND_CARDS",asker:e,beingAsked:t,matchingCards:s}}function c(e){return{type:"GO_FISH",asker:e}}let i=new Map;i.set("P_1",["init"]),i.set("AI_1",[]),i.set("AI_2",[]),i.set("AI_3",[]),i.set("remainingDeck",[""]),i.set("P_1_tally",{}),i.set("AI_1_tally",{}),i.set("AI_2_tally",{}),i.set("AI_3_tally",{}),i.set("P_1_sets",[""]),i.set("AI_1_sets",[]),i.set("AI_2_sets",[]),i.set("AI_3_sets",[]),i.set("P_1_turn",!0),i.set("AI_1_turn",!1),i.set("AI_2_turn",!1),i.set("AI_3_turn",!1);const o=["Hearts","Clubs","Diamonds","Spades"],m=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];var d=[];i.set("remainingDeck",d);const u=e=>{return e[(t=0,s=e.length-1,t=Math.ceil(t),s=Math.floor(s),Math.floor(Math.random()*(s-t+1)+t))];var t,s},A=(e,t,s)=>{let a=e.get(`${s}_sets`);a.push(t),e.set(`${s}_sets`,a);let r=e.get(s);r=r.filter((e=>e.symbol!=t)),e.set(s,r),console.log("A player has a full set!")};o.forEach((e=>{m.forEach((t=>{let s={suite:e,symbol:t};d.push(s)}))})),(()=>{let e=i.get("remainingDeck"),t=[],s=[],a=[],r=[],_={},n={},l={},c={};for(let i=0;i<5;i++){let i=u(e);t.push(i);let o=i.symbol;_[o]?(_[o]++,4==_[o]&&A(o,"P_1_sets")):_[o]=1,e=e.filter((e=>e!=i)),i=u(e),s.push(i),o=i.symbol,n[o]?(n[o]++,4==n[o]&&A(o,"AI_1_sets")):n[o]=1,e=e.filter((e=>e!=i)),i=u(e),a.push(i),o=i.symbol,l[o]?(l[o]++,4==l[o]&&A(o,"AI_2_sets")):l[o]=1,e=e.filter((e=>e!=i)),i=u(e),r.push(i),o=i.symbol,c[o]?(c[o]++,4==c[o]&&A(o,"AI_3_sets")):c[o]=1,e=e.filter((e=>e!=i))}i.set("P_1",t),i.set("AI_1",s),i.set("AI_2",a),i.set("AI_3",r),i.set("remainingDeck",e),i.set("P_1_tally",_),i.set("AI_1_tally",n),i.set("AI_2_tally",l),i.set("AI_3_tally",c)})();var I={container:"_container_6rcoc_1",symbol:"_symbol_6rcoc_17",completeSet:"_completeSet_6rcoc_29"};var g=t((e=>({P_1_cards:e.get("P_1"),AI_1_cards:e.get("AI_1"),AI_2_cards:e.get("AI_2"),AI_3_cards:e.get("AI_3"),P_1_sets:e.get("P_1_sets"),AI_1_sets:e.get("AI_1_sets"),AI_2_sets:e.get("AI_2_sets"),AI_3_sets:e.get("AI_3_sets")})),{dispatchSendCards:(e,t,s)=>l(e,t,s),dispatchGoFish:e=>c(e)})((e=>{s.exports.useEffect((()=>u(e.myTurn)),[e.myTurn]);const t=new Map;t.set("P_1",e.P_1_cards),t.set("AI_1",e.AI_1_cards),t.set("AI_2",e.AI_2_cards),t.set("AI_3",e.AI_3_cards),t.set("P_1_sets",e.P_1_sets),t.set("AI_1_sets",e.AI_1_sets),t.set("AI_2_sets",e.AI_2_sets),t.set("AI_3_sets",e.AI_3_sets);const r=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)),_=e=>["P_1","AI_1","AI_2","AI_3"].filter((t=>t!=e))[r(0,2)],n=e=>{let t=[];return e.forEach((e=>{let s=e.symbol;t.includes(s)||t.push(s)})),t[r(0,t.length-1)]},[l,c]=s.exports.useState(_(e.id)),[i,o]=s.exports.useState(n(t.get(`${e.id}`))),[m,d]=s.exports.useState(e.id),u=s=>{s&&(setTimeout((()=>{let s=t.get(l).filter((e=>e.symbol==i));s.length>0?(console.log("A matching card was found!"),setDratsTextVisible(!0),e.dispatchSendCards(m,l,s)):(console.log("No matching card. Go Fish!"),setGoFishVisibility(!0),e.dispatchGoFish(m))})(),3e3),c(_(e.id)),o(n(t.get(`${e.id}`))))};return a.createElement("div",{style:e.myTurn?p:{},className:I.container},a.createElement("h4",null,e.id),a.createElement("p",null,t.get(`${m}_sets`).map((e=>a.createElement("span",{key:e,className:I.completeSet},`${e} `)))),a.createElement("div",{className:I.imgContainer},a.createElement("img",{src:"/assets/AI_cards.bf93d3ca.jpg",className:I.symbol})),e.myTurn&&a.createElement("p",null,`Hey ${l}, do you have any ${i}'s ?`))}));const p={border:"2px solid yellow",borderRadius:"5px"};var y="_deckImg_1ss3d_1",h="_deckImgContainer_1ss3d_15";var k=t((e=>({remDeck:e.get("remainingDeck").length})))((e=>a.createElement("div",{className:h},a.createElement("img",{src:"/assets/deck.ccf50b52.jpg",className:y}),a.createElement("p",null,`${e.remDeck} cards remaining in the deck`))));var b="_cardContainer_rsdq7_1",E="_innerCard_rsdq7_21",f="_suiteStyle_rsdq7_37",P="_symbolStyle_rsdq7_51",C="_playerOneDeck_rsdq7_63";const v=({suite:e,symbol:t})=>{const s=new Map;s.set("Hearts","/assets/hearts.d12faf7b.png"),s.set("Clubs","/assets/clubs.434365fd.png"),s.set("Spades","/assets/spades.1e0a859b.jpg"),s.set("Diamonds","/assets/diamonds.fbe2ec78.png");return a.createElement("span",{className:b},a.createElement("div",{className:E},a.createElement("span",{className:P},t),a.createElement("img",{src:(r=e,s.get(r)),className:f})));var r};var N=t((e=>({P_1_sets:e.get("P_1_sets"),cards:e.get("P_1")})))((e=>a.createElement("div",null,a.createElement("span",null,e.cards&&e.cards.map((e=>a.createElement(v,{key:e.suite+e.symbol,suite:e.suite,symbol:e.symbol,className:C})))))));var S="_optionsContainer_xbkgd_3",T="_option_xbkgd_3";var D=t((e=>({playerOneCards:e.get("P_1"),AI_1_cards:e.get("AI_1"),AI_2_cards:e.get("AI_2"),AI_3_cards:e.get("AI_3")})),{dispatchSendCards:(e,t,s)=>l(e,t,s),dispatchGoFish:e=>c(e)})((e=>{const t=new Map;t.set("AI_1",e.AI_1_cards),t.set("AI_2",e.AI_2_cards),t.set("AI_3",e.AI_3_cards);let s=e.options;return a.createElement("div",{className:S},s.map((s=>a.createElement("button",{onClick:()=>(s=>{console.log(`Selected the following option: ${s} to ask ${e.beingAsked}`);let a=s,r=e.beingAsked,_=t.get(r).filter((e=>e.symbol==a));console.log("Matching cards ",_),_.length>0?(console.log("A matching card was found!"),e.dispatchSendCards("P_1",r,_)):(console.log("No matching card. Go Fish!"),e.dispatchGoFish("P_1"))})(s),key:s,className:T},s))))}));var M={upperContainer:"_upperContainer_10k3i_11",artificial_1:"_artificial_1_10k3i_27",artificial_2:"_artificial_2_10k3i_43",artificial_3:"_artificial_3_10k3i_59",deck:"_deck_10k3i_75",playerOne:"_playerOne_10k3i_91",P1setsContainer:"_P1setsContainer_10k3i_103",completeSets:"_completeSets_10k3i_119",optionsContainer:"_optionsContainer_10k3i_135",P_1_cards:"_P_1_cards_10k3i_153",nextPlayerButtonContainer:"_nextPlayerButtonContainer_10k3i_169",nextPlayerButton:"_nextPlayerButton_10k3i_169"};let $=0;var x=t((e=>({playerOneCards:e.get("P_1"),AI_1_cards:e.get("AI_1"),AI_2_cards:e.get("AI_2"),AI_3_cards:e.get("AI_3"),isP_1_Turn:e.get("P_1_turn"),isAI_1_Turn:e.get("AI_1_turn"),isAI_2_Turn:e.get("AI_2_turn"),isAI_3_Turn:e.get("AI_3_turn"),P_1_sets:e.get("P_1_sets"),remDeck:e.get("remainingDeck").length})),{dispatchMyTurn:(e,t,s,a)=>function(e,t,s,a){return{type:"MY_TURN",thisPlayersTurn:e,not1:t,not2:s,not3:a}}(e,t,s,a)})((e=>{const t=new Map,r=new Map;t.set("AI_1",e.AI_1_cards),t.set("AI_2",e.AI_2_cards),t.set("AI_3",e.AI_3_cards),r.set(1,"P_1_turn"),r.set(2,"AI_1_turn"),r.set(3,"AI_2_turn"),r.set(4,"AI_3_turn");let _=["P_1_turn","AI_1_turn","AI_2_turn","AI_3_turn"];const n=()=>{if(4==$){$=1,alert("It's your turn");let n=r.get($),l=_.filter((e=>e!=n));var[t,s,a]=l;e.dispatchMyTurn(n,t,s,a)}else{$++;let n=r.get($),l=_.filter((e=>e!=n));var[t,s,a]=l;e.dispatchMyTurn(n,t,s,a)}},l=e=>{i(e),alert(`Please select an option to ask ${e} for`)},[c,i]=s.exports.useState("AI_1");let o=[];return e.playerOneCards&&e.playerOneCards.forEach((e=>{let t=e.symbol;o.includes(t)||o.push(t)})),a.createElement("div",null,a.createElement("div",{className:M.upperContainer},a.createElement("div",{onClick:()=>l("AI_1"),className:M.artificial_1},a.createElement(g,{id:"AI_1",cards:e.AI_1_cards,asked:"AI_1"==c,myTurn:e.isAI_1_Turn,className:"AI_container"})),a.createElement("div",{onClick:()=>l("AI_2"),className:M.artificial_2},a.createElement(g,{id:"AI_2",cards:e.AI_2_cards,asked:"AI_2"==c,myTurn:e.isAI_2_Turn})),a.createElement("div",{onClick:()=>l("AI_3"),className:M.artificial_3},a.createElement(g,{id:"AI_3",cards:e.AI_3_cards,asked:"AI_3"==c,myTurn:e.isAI_3_Turn})),a.createElement("div",{className:M.deck},a.createElement(k,null))),a.createElement("div",{className:M.lowerContainer},a.createElement("div",{className:M.playerOne},a.createElement("div",{className:M.P_1_cards},a.createElement(N,{id:"P_1",asked:"P_1"==c,myTurn:e.isP_1_Turn})),a.createElement("div",{className:M.P1setsContainer},a.createElement("p",null,e.P_1_sets.map((e=>a.createElement("span",{key:`${e}+${e}`,className:M.completeSets},`${e} `))))),a.createElement("div",{onClick:()=>n(),className:M.optionsContainer},e.isP_1_Turn&&a.createElement(D,{options:o,beingAsked:c})),a.createElement("div",{className:M.nextPlayerButtonContainer},e.remDeck>0?a.createElement("button",{className:M.nextPlayerButton,onClick:()=>n()},"Next Player's Turn"):a.createElement("p",null,"Game Over!")))))}));const w=r(((t=i,s)=>{switch(s.type){case"SEND_CARDS":{let a=s.asker,r=s.beingAsked,_=s.matchingCards,n=((t,s,a,r)=>{let _=e.cloneDeep(t),n=_.get(s),l=_.get(a);r.forEach((e=>{n.push(e)}));let c=r[0].symbol;return l=l.filter((e=>e.symbol!=c)),_.set(s,n),_.set(a,l),"P_1"==a&&console.warn("beingAsked -- P1 -- cards are ",l),_})(t,a,r,_),l=n.get(`${a}_tally`),c=n.get(`${r}_tally`);return _.forEach((e=>{l[e.symbol]?(l[e.symbol]++,4==l[e.symbol]&&A(n,e.symbol,a)):l[e.symbol]=1,c[e.symbol]--})),n}case"GO_FISH":{let a=s.asker,{newState:r,randomCard:_}=((t,s)=>{let a=e.cloneDeep(t),r=a.get(s),_=a.get("remainingDeck"),n=u(_);return console.log("New card from deck is ",n),r.push(n),_=_.filter((e=>e!=n)),a.set("remainingDeck",_),a.set(s,r),{newState:a,randomCard:n}})(t,a),n=r.get(`${a}_tally`);return n[_.symbol]?(n[_.symbol]++,4==n[_.symbol]&&A(r,_.symbol,a)):n[_.symbol]=1,r}case"MY_TURN":{let a=s.thisPlayersTurn,r=s.not1,_=s.not2,n=s.not3,l=e.cloneDeep(t);return l.set(a,!0),l.set(r,!1),l.set(_,!1),l.set(n,!1),l}default:return t}}));function O(){return a.createElement(_,{store:w},a.createElement(x,null))}n.render(a.createElement(a.StrictMode,null,a.createElement(O,null)),document.getElementById("root"));
